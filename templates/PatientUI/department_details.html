{% extends "base.html" %}
{% block title %}Department - {{ department.department_name }}{% endblock %}

{% block style %}
<style>
    body {
        background-image: url('/static/images/register\ bg.jpg');
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
    }

    .content-wrapper {
        background-color: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 35px;
    }

    .department-header {
        border-bottom: 3px solid #0d6efd;
        padding-bottom: 15px;
        margin-bottom: 25px;
    }

    .department-header h4 {
        color: #0d6efd;
        font-weight: 600;
        margin-bottom: 5px;
    }

    .overview-section {
        background-color: rgba(13, 110, 253, 0.05);
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 25px;
        border-left: 4px solid #0d6efd;
    }

    .overview-section h5 {
        color: #495057;
        font-weight: 600;
        margin-bottom: 15px;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="content-wrapper">
        <div class="department-header">
            <h4>Department of {{ department.department_name }}</h4>
        </div>

        <div class="overview-section">
            <h5>Overview</h5>
            <p>{{ department.description }}</p>
        </div>

        <h5 class="mb-3">Our Doctors</h5>
        <div class="list-group">
            {% for doc in doctors %}
            <div class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>{{ doc.user.user_name }}</strong><br>
                    <small class="text-muted">{{ department.department_name }}</small>
                </div>
                <div>
                    <a href="{{ url_for('doctor_view', doctor_id=doc.id, username=session.get('user_name') or 'guest') }}"
                        class="btn btn-outline-primary btn-sm">
                        Check Availability
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>

        <a href="{{ url_for('patient_dashboard', username=username) }}" class="btn btn-secondary mt-3">Back</a>
    </div>
</div>
{% endblock %}
